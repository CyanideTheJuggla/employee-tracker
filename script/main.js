const Inquire = require("./inquire");
const DatabaseConnection = require('./connect');
const Util = require("./Uitil");
const logo = `
 _____________________________________________________________________________________________________
| |         ______                 _                         _______             _                  | |  
| |        |  ____|               | |                       |__   __|           | |                 | |
| |        | |__   _ __ ___  _ __ | | ___  _   _  ___  ___     | |_ __ __ _  ___| | _____ _ __      | |
| |        |  __| | '_ \` _ \\| '_ \\| |/ _ \\| | | |/ _ \\/ _ \\    | | '__/ _\` |/ __| |/ / _ \\ '__|     | |
| |        | |____| | | | | | |_) | | (_) | |_| |  __/  __/    | | | | (_| | (__|   <  __/ |        | |
| |        |______|_| |_| |_| .__/|_|\\___/ \\__, |\\___|\\___|    |_|_|  \\__,_|\\___|_|\\_\\___|_|        | |
| |                         | |             __/ |                                                   | |
|_|                         |_|            |___/                                                    |_|
| |                                                                                                 | |
| |______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______ ______| |
| |______|______|______|______|______|______|______|______|______|______|______|______|______|______| |
| |                                                                                                 | |
|_|                    _____  ____  _      ___        __  _____                   _                 |_|
| |                   / ____|/ __ \\| |    |__ \\      / / |_   _|                 (_)                | |
| |   _ __ ___  _   _| (___ | |  | | |       ) |    / /    | |  _ __   __ _ _   _ _ _ __ ___ _ __   | |
| |  | '_ \` _ \\| | | |\\___ \\| |  | | |      / /    / /     | | | '_ \\ / _\` | | | | | '__/ _ \\ '__|  | |
| |  | | | | | | |_| |____) | |__| | |____ / /_   / /     _| |_| | | | (_| | |_| | | | |  __/ |     | |
| |  |_| |_| |_|\\__, |_____/ \\___\\_\\______|____| /_/     |_____|_| |_|\\__, |\\__,_|_|_|  \\___|_|     | |
| |              __/ |                                                   | |                        | |
| |             |___/                                                    |_|                        | | 
|_|_________________________________________________________________________________________________|_|
`;
const db = new DatabaseConnection();

function Startup(){
    console.clear();
    Util.Log('process.pid', process.pid, true);
    console.log(logo);
    db.Connect();
    const inquire = new Inquire(db);
    inquire.startPrompts();
}

function ShutDown() {
    Util.Log("Goodbye!")
    db.Disconnect();
    process.exitCode = 1;
    process.kill(process.pid);
}

process.on('SIGTERM', ShutDown);
Startup();